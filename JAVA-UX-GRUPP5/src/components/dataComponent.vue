<template>
  <div class="data-componten-container">
    <div>dataComponent:</div>
    <div>VÃ¤lj parameter:</div>
    <select
        v-if="parameters"
        v-model="selectedHref"
        class="parameterSelection"
        @change="toParent(selectedHref)"
    >
      <option
          v-for="(p, index) in parameters.resource"
          :key="`${index}`"
          :value="{ parameterLink: p.link[0].href }"
      >
        {{ `${p.title} - ${p.summary}` }}
      </option>
    </select></div>
</template>

<script>
import smhiService from "./../services/smhiService.js";

export default {
  name: 'ParametersComponent',
  props: {
    smhiType: String,
  },
  emits: ['stationSelection'],
  data() {
    return {
      selectedHref: '',
      parameters: "",
    }
  },
  created() {
    smhiService.fetchData().then((p) => (this.parameters = p))
  },
  methods: {
    toParent(value) {
      this.$emit('stationSelection', value)
    },
  },
}
</script>

<style scoped>
a {
  color: #42b983;
}
.data-componten-container {
  background-color: #ded1d1;
  padding: 2em;
}
</style>
